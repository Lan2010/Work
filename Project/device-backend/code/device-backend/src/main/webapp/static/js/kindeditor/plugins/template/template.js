KindEditor.plugin("template",function(n){var r=this,o="template",a=(r.lang(o+"."),r.pluginsPath+o+"/html/");function d(e){return a+e+"?ver="+encodeURIComponent(n.DEBUG?n.TIME:n.VERSION)}r.clickToolbar(o,function(){var e=r.lang(o+"."),l=['<div style="padding:10px 20px;">','<div class="ke-header">','<div class="ke-left">',e.selectTemplate+" <select>"];n.each(e.fileList,function(e,a){l.push('<option value="'+e+'">'+a+"</option>")}),html=[l.join(""),"</select></div>",'<div class="ke-right">','<input type="checkbox" id="keReplaceFlag" name="replaceFlag" value="1" /> <label for="keReplaceFlag">'+e.replaceContent+"</label>","</div>",'<div class="ke-clearfix"></div>',"</div>",'<iframe class="ke-textarea" frameborder="0" style="width:458px;height:260px;background-color:#FFF;"></iframe>',"</div>"].join("");var a=r.createDialog({name:o,width:500,title:r.lang(o),body:html,yesBtn:{name:r.lang("yes"),click:function(e){var a=n.iframeDoc(c);r[t[0].checked?"html":"insertHtml"](a.body.innerHTML).hideDialog().focus()}}}),i=n("select",a.div),t=n('[name="replaceFlag"]',a.div),c=n("iframe",a.div);t[0].checked=!0,c.attr("src",d(i.val())),i.change(function(){c.attr("src",d(this.value))})})});