KindEditor.plugin("quickformat",function(m){var f=this,h=m.toMap("blockquote,center,div,h1,h2,h3,h4,h5,h6,p");function s(e){for(var t=e.first();t&&t.first();)t=t.first();return t}f.clickToolbar("quickformat",function(){f.focus();for(var e,o=f.edit.doc,t=f.cmd.range,n=m(o.body).first(),r=[],a=[],i=t.createBookmark(!0);n;){e=n.next();var c=s(n);c&&"img"==c.name||(h[n.name]?(n.html(n.html().replace(/^(\s|&nbsp;|　)+/gi,"")),n.css("text-indent","2em")):a.push(n),(!e||h[e.name]||h[n.name]&&!h[e.name])&&(0<a.length&&r.push(a),a=[])),n=e}m.each(r,function(e,t){var n=m('<p style="text-indent:2em;"></p>',o);t[0].before(n),m.each(t,function(e,t){n.append(t)})}),t.moveToBookmark(i),f.addBookmark()})});