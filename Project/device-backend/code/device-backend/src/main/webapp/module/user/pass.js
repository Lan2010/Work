define(["jquery","Extend","Global","Validate","Modal"],function(s,t,a,e,n){"use strict";var i,r;return{onLoad:function(t,e){e,r=s("#formModPass"),function(){i=r.validate();var o="/api/passModify";r.on("submit",function(){if(i.form())return s("body").msg("loading",{text:"提交中",level:"top"}),s.ajax({url:a.path+o,type:"post",data:r.serialize(),success:function(t,e,o){a.checkJson(t,{level:"top"})&&(n.hide(),s("body").msg("success",{text:"修改成功",level:"top",time:2e3}))},error:function(t,e){s("body").msg("error",{text:o+" - "+t.status+" - "+t.statusText+" - "+e,level:"top"})}}),!1})}()}}});