define(["jquery","Global","Menu","Route","TSearch","Grid"],function(o,i,u,c,d,n){"use strict";var s,l=!0;return{onSearch:function(n,t){l=!1,d.fillData(t),s.load(t||{})},onLoad:function(n,t){var a,e,r;u.active(n),a=t,e=o("#mainTable"),r="/api/loginLog",s=e.grid({url:i.path+r,data:a,columns:[{data:"orderNo",class:"td-sn",render:function(n,t,a,e){return e.pageSize*(e.page-1)+a}},{data:"userName"},{data:"loginTime",render:function(n,t,a){return o.date(n).string}},{data:"loginOutTime",render:function(n,t,a){return o.date(n).string}}],onSuccess:function(n,t){i.checkJson(t)&&(l&&c.updateHash(n),l=!0)},onError:function(n,t){o("body").msg("error",{text:r+" - "+n.status+" - "+n.statusText+" - "+t})}}),d.fillData(t),d.init({onSearch:function(n){s.load(n||{})},onClear:function(n){s.load(n||{})}})}}});